(this["webpackJsonpair-quality-sensor-frontend"]=this["webpackJsonpair-quality-sensor-frontend"]||[]).push([[0],{209:function(e,t,n){},210:function(e,t,n){},365:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(54),c=n.n(s),i=(n(209),n(10)),l=n(369),h=n(370),u=n(371),d=n(195),j=n(196),o=n(83),m=n(80),b=n(199),x=(n(210),n(19)),p=n.n(x),O=n(37),f=n(176),y=n.n(f),g=n(177),v=y.a.create({baseURL:"http://".concat(window.location.hostname,":").concat(g.a.BACKEND_PORT),timeout:2e4}),w=function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/measurements/air/latest/day");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/measurements/air/latest/month");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/measurements/air/latest/year");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/measurements/temperature/latest/day");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/measurements/temperature/latest/month");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/measurements/temperature/latest/year");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=n(198),C=n.p+"static/media/chocobo.840447c8.gif",D=n(123),E=n(3),B=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(D.useSpring)({position:"absolute",zIndex:2,reset:n,transform:"translateX(-500px)",config:{duration:1e4},from:{transform:"translateX(2000px)"},onStart:function(){r(!1)},onRest:function(){setTimeout((function(){return r(!0)}),1e4*Math.random()+2e4)}});return Object(E.jsx)(D.animated.img,{src:C,alt:"",style:Object(S.a)({},s)})},P=n(373),R=n(188),T=n(26),I=n(191),q=function(e){var t=e.label,n=e.width,a=e.heigh,r=e.data,s=e.dataKey,c=e.caption,i=[e.color||"#0088FE","#E8E9EB"];function l(e){var n=e.viewBox,a=n.cx,r=n.cy;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("text",{x:a,y:r,fill:i[0],textAnchor:"middle",dominantBaseline:"central",children:Object(E.jsx)("tspan",{x:"50%",children:t})}),Object(E.jsx)("text",{x:a,y:r,textAnchor:"middle",dominantBaseline:"central",children:Object(E.jsx)("tspan",{x:"50%",y:"94%",children:c})})]})}return Object(E.jsx)(P.a,{width:n,height:a,children:Object(E.jsxs)(R.a,{data:r,innerRadius:40,outerRadius:45,paddingAngle:2,startAngle:90,endAngle:-270,dataKey:s,children:[Object(E.jsx)(T.a,{width:30,position:"center",content:Object(E.jsx)(l,{data:r,width:n})}),r.map((function(e,t){return Object(E.jsx)(I.a,{fill:i[t%i.length]},"cell-".concat(t))}))]})})},F=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)([]),c=Object(i.a)(s,2),x=c[0],p=c[1],O=Object(a.useState)([]),f=Object(i.a)(O,2),y=f[0],g=f[1],v=Object(a.useState)([]),S=Object(i.a)(v,2),C=S[0],D=S[1],P=Object(a.useState)([]),R=Object(i.a)(P,2),T=R[0],I=R[1],F=Object(a.useState)([]),H=Object(i.a)(F,2),J=H[0],X=H[1],z=Object(a.useState)(!1),L=Object(i.a)(z,2),U=L[0],_=L[1];Object(a.useEffect)((function(){w().then((function(e){r(e.measurements)})),N().then((function(e){p(e.measurements)})),k().then((function(e){g(e.measurements)})),A().then((function(e){D(e.measurements)})),K().then((function(e){I(e.measurements)})),M().then((function(e){X(e.measurements)})),setTimeout((function(){return _(!0)}),1e4);var e=setInterval((function(){w().then((function(e){r(e.measurements)})),A().then((function(e){D(e.measurements)}))}),6e4);return function(){clearInterval(e)}}),[]);var G=function(e){return Object(E.jsx)(l.a,{width:"100%",height:"100%",children:Object(E.jsxs)(h.a,{width:500,height:300,data:e,children:[Object(E.jsx)(u.a,{strokeDasharray:"3 3"}),Object(E.jsx)(d.a,{dataKey:"timestamp",tickMargin:10}),Object(E.jsx)(j.a,{}),Object(E.jsx)(o.a,{}),Object(E.jsx)(m.a,{verticalAlign:"top",height:36}),Object(E.jsx)(b.a,{type:"monotone",dataKey:"pm2p5",stroke:"#8884d8",name:"PM 2.5",dot:!1}),Object(E.jsx)(b.a,{type:"monotone",dataKey:"pm10",stroke:"#82ca9d",name:"PM 10",dot:!1})]})})},Q=function(e){return Object(E.jsx)(l.a,{width:"100%",height:"100%",children:Object(E.jsxs)(h.a,{width:500,height:300,data:e,children:[Object(E.jsx)(u.a,{strokeDasharray:"3 3"}),Object(E.jsx)(d.a,{dataKey:"timestamp",tickMargin:10}),Object(E.jsx)(j.a,{domain:["auto","auto"]}),Object(E.jsx)(o.a,{}),Object(E.jsx)(m.a,{verticalAlign:"top",height:36}),Object(E.jsx)(b.a,{type:"monotone",dataKey:"temperature",stroke:"#8884d8",name:"Temperature",dot:!1})]})})},V=function(e){return Object(E.jsx)(l.a,{width:"100%",height:"100%",children:Object(E.jsxs)(h.a,{width:500,height:300,data:e,children:[Object(E.jsx)(u.a,{strokeDasharray:"3 3"}),Object(E.jsx)(d.a,{dataKey:"timestamp",tickMargin:10}),Object(E.jsx)(j.a,{domain:["auto","auto"]}),Object(E.jsx)(o.a,{}),Object(E.jsx)(m.a,{verticalAlign:"top",height:36}),Object(E.jsx)(b.a,{type:"monotone",dataKey:"humidity",stroke:"#8884d8",name:"Humidity",dot:!1})]})})};return Object(E.jsxs)("div",{children:[U&&Object(E.jsx)(B,{}),Object(E.jsxs)("div",{className:"container is-max-widescreen mt-6",children:[function(){var e=[],t=[],a=[],r=[];if(n.length>0){var s=n[n.length-1];e.push({pm2p5:s.pm2p5}),e.push({pm2p5:Math.max(0,20-s.pm2p5)}),t.push({pm10:s.pm10}),t.push({pm10:Math.max(0,40-s.pm10)})}if(C.length>0){var c=C[C.length-1];a.push({temperature:c.temperature}),r.push({humidity:c.humidity}),r.push({humidity:100-c.humidity})}return Object(E.jsx)("div",{className:"box mb-6 pb-6",children:Object(E.jsxs)("div",{className:"columns",children:[n.length>0&&Object(E.jsxs)("div",{className:"column is-half-desktop is-flex is-justify-content-space-around",children:[Object(E.jsx)(q,{width:150,heigh:150,label:"".concat(e[0].pm2p5),caption:"PM 2.5",data:e,dataKey:"pm2p5",color:"#D54C4C"}),Object(E.jsx)(q,{width:150,heigh:150,label:"".concat(t[0].pm10),caption:"PM 10",data:t,dataKey:"pm10",color:"#D54C4C"})]}),C.length>0&&Object(E.jsxs)("div",{className:"column is-half-desktop is-flex is-justify-content-space-around",children:[Object(E.jsx)(q,{width:150,heigh:150,label:"".concat(a[0].temperature,"\xb0C"),caption:"Temperature",data:a,dataKey:"temperature",color:"#00C1D4"}),Object(E.jsx)(q,{width:150,heigh:150,label:"".concat(r[0].humidity,"%"),caption:"Humidity",data:r,dataKey:"humidity",color:"#00C1D4"})]})]})})}(),Object(E.jsxs)("div",{className:"box mb-6",children:[n.length>1&&Object(E.jsxs)("div",{className:"mb-6 mr-3",children:[Object(E.jsx)("h2",{className:"title",style:{textAlign:"center"},children:"24 hour air pollution trend"}),Object(E.jsx)("div",{style:{height:"20rem"},children:G(n)})]}),x.length>1&&Object(E.jsxs)("div",{className:"mb-6 mr-6",children:[Object(E.jsx)("h2",{className:"title",style:{textAlign:"center"},children:"30 days air pollution trend"}),Object(E.jsx)("div",{style:{height:"20rem"},children:G(x)})]}),y.length>1&&Object(E.jsxs)("div",{className:"mb-6 mr-6",children:[Object(E.jsx)("h2",{className:"title",style:{textAlign:"center"},children:"12 month air pollution trend"}),Object(E.jsx)("div",{style:{height:"20rem"},children:G(y)})]})]}),Object(E.jsxs)("div",{className:"box mb-6",children:[C.length>1&&Object(E.jsxs)("div",{className:"mb-6 mr-3",children:[Object(E.jsx)("h2",{className:"title",style:{textAlign:"center"},children:"24 hour temperature trend"}),Object(E.jsx)("div",{style:{height:"20rem"},children:Q(C)})]}),T.length>1&&Object(E.jsxs)("div",{className:"mb-6 mr-3",children:[Object(E.jsx)("h2",{className:"title",style:{textAlign:"center"},children:"30 days temperature trend"}),Object(E.jsx)("div",{style:{height:"20rem"},children:Q(T)})]}),J.length>1&&Object(E.jsxs)("div",{className:"mb-6 mr-3",children:[Object(E.jsx)("h2",{className:"title",style:{textAlign:"center"},children:"12 month temperature trend"}),Object(E.jsx)("div",{style:{height:"20rem"},children:Q(J)})]})]}),Object(E.jsxs)("div",{className:"box mb-6",children:[C.length>1&&Object(E.jsxs)("div",{className:"mb-6 mr-3",children:[Object(E.jsx)("h2",{className:"title",style:{textAlign:"center"},children:"24 hour humidity trend"}),Object(E.jsx)("div",{style:{height:"20rem"},children:V(C)})]}),T.length>1&&Object(E.jsxs)("div",{className:"mb-6 mr-3",children:[Object(E.jsx)("h2",{className:"title",style:{textAlign:"center"},children:"30 days humidity trend"}),Object(E.jsx)("div",{style:{height:"20rem"},children:V(T)})]}),J.length>1&&Object(E.jsxs)("div",{className:"mb-6 mr-3",children:[Object(E.jsx)("h2",{className:"title",style:{textAlign:"center"},children:"12 month humidity trend"}),Object(E.jsx)("div",{style:{height:"20rem"},children:V(J)})]})]})]})]})};n(364);c.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(F,{})}),document.getElementById("root"))}},[[365,1,2]]]);
//# sourceMappingURL=main.0d14c875.chunk.js.map